{% extends 'base.html' %}

{% block css %}

    <style>
        
        
    </style>

{% endblock %}

{% block content %}

<div class="content-page">
    <div class="content">
        <!-- Start Content-->
        <!-- Start Content-->
        <div class="container-fluid">

            <div class="row">
                <div class="col-12">
                    <div class="page-title-box">                                    
                        
                        <h4 class="page-title">Home</h4>
                    </div>
                </div>
            </div>
            
            <div class="row">

                <div class="col-12 col-sm-6 col-md-4">
                    <a href="{% url 'upload_video' %}"><div class="card widget-flat bg-info text-white">
                        <div class="card-body">
                            <div class="float-end">
                                <i class="mdi mdi-cloud-upload widget-icon bg-white text-info"></i>
                            </div>
                            <h5 class="text-uppercase mt-0">Upload performed exercise video</h5>
                            <h4 class="mt-3">Show the assessment score of<br> uploaded video</h4>
                        </div>
                    </div></a>
                </div> <!-- end col-->

                <div class="col-12 col-sm-6 col-md-4">
                    <a href="{% url 'therapy' %}"><div class="card widget-flat bg-success text-white">
                        <div class="card-body">
                            <div class="float-end">
                                <i class="mdi mdi-format-list-bulleted-type widget-icon bg-white text-success"></i>
                            </div>
                            <h5 class="text-uppercase mt-0">Exercise List</h5>
                            <h4 class="mt-3 mb-3">Choose from eight exercises</h4>
                        </div>
                    </div></a>
                </div> <!-- end col-->

                <div class="col-12 col-sm-6 col-md-4">
                    <a href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#time-modal">
                        <div class="card widget-flat bg-primary text-white">
                        <div class="card-body">
                            <div class="float-end">
                                <i class="mdi mdi-message-video widget-icon bg-white text-primary"></i>
                            </div>
                            <h5 class="text-uppercase mt-0">Classify Exercise</h5>
                            <h4 class="mt-3">Show exercise assessment score <br>with exercise class</h4>
                        </div>
                    </div></a>
                </div> <!-- end col-->
            </div>     
            
            
            <div id="time-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="multiple-oneModalLabel" style="text-transform: uppercase;">CLASSIFY EXERCISE</h4>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
            
                            <form action="{% url 'classify_therapy' %}" method="GET" class="ps-3 pe-3">
            
                                <div class="mb-3">
                                    <label for="minutes">Minutes:</label>
                                    <input type="number" class="form-control" id="minutes" name="minutes" min="0" max="5" step="1" required>
                                    <p id="minutesMessage" style="color: red;"></p>
                                    <label for="seconds">Seconds:</label>
                                    <input type="number" class="form-control" id="seconds" name="seconds" min="0" max="59" step="1" value="0" required>
                                </div>
            
                                <div class="mb-3 text-center">
                                    {% comment %} <a href="{% url 'web_cam' %}" class="btn rounded-pill btn-primary">Start</a> {% endcomment %}
                                     <button class="btn rounded-pill btn-primary" type="submit">Start</button>
                                </div>
            
                            </form>
            
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
            

        </div>
        <!-- container -->

    </div>
    <!-- content -->

</div>

{% endblock %}

{% block js %}

<script>

    const minutesInput = document.getElementById('minutes');
        const minutesMessage = document.getElementById('minutesMessage');

        // Add an event listener to the minutes input field
        minutesInput.addEventListener('input', function () {
            const inputValue = parseInt(minutesInput.value, 10);
            
            // Check if the input exceeds the maximum value (5)
            if (inputValue > 5) {
                minutesInput.value = 5; // Set the value to 5
                minutesMessage.textContent = 'Maximum value is 5. Value set to 5.';
            } else {
                minutesMessage.textContent = ''; // Clear the error message
            }
        });

</script>

{% endblock %}
